<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 1               */
/* CACHE FILE: Generated: Tue, 05 Jan 2016 20:03:53 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_contato_1 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['fields'] = array('cf');
$this->_funcHooks['form'] = array('active','active','departamentos');


}

/* -- fields --*/
function fields($dep=array(), $regra, $pergunta=array(), $customfields=array(), $captchaHTML, $firstid) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_contato', $this->_funcHooks['fields'] ) )
{
$count_39358c3a8063f1a91dc50d14fef14b87 = is_array($this->functionData['fields']) ? count($this->functionData['fields']) : 0;
$this->functionData['fields'][$count_39358c3a8063f1a91dc50d14fef14b87]['dep'] = $dep;
$this->functionData['fields'][$count_39358c3a8063f1a91dc50d14fef14b87]['regra'] = $regra;
$this->functionData['fields'][$count_39358c3a8063f1a91dc50d14fef14b87]['pergunta'] = $pergunta;
$this->functionData['fields'][$count_39358c3a8063f1a91dc50d14fef14b87]['customfields'] = $customfields;
$this->functionData['fields'][$count_39358c3a8063f1a91dc50d14fef14b87]['captchaHTML'] = $captchaHTML;
$this->functionData['fields'][$count_39358c3a8063f1a91dc50d14fef14b87]['firstid'] = $firstid;
}
$IPBHTML .= "<div class='ipsBox_container ipsForm_horizontal ipsForm'>
<div style='padding: 10px;'>
<p class='message unspecific' style='border-radius:4px;'><img src='{$this->settings['img_url']}/contactus/exclamation.png' alt='' title='{$this->lang->words['c_admin']}' /> {$this->lang->words['desc']}</p>
</div>
	<form method='POST' action='{$this->settings['base_url']}' name='REPLIER'>
		<input type='hidden' name='app' value='contactus' />
		<input type='hidden' name='module' value='contato' />
		<input type='hidden' name='section' value='form' />
" . ((!$this->request['id']) ? ("<input type='hidden' name='departamento' value='{$firstid['id']}' />
") : ("
                <input type='hidden' name='departamento' value='{$this->request['id']}' />
")) . "
		<input type='hidden' name='code' value='submit' />
		<input type=\"hidden\" name=\"qid\" value=\"{$pergunta[qid]}\" />
		<input type='hidden' name='post_key' value='{$postkey}' />
{$postkey}
<ul class=\"ipsPad\">
				<li class='ipsField'>
					<label class='ipsField_title' for='name'>{$this->lang->words['name']} <span class='ipsForm_required'>*</span></label>
					<div class='ipsField_content'>
						<input type=\"text\" id='name' class='input_text' name=\"name\" value=\"" . (($this->memberData['member_id']) ? ("{$this->memberData['members_display_name']}") : ("")) . "\" size=\"30\" maxlength=\"100\" " . (($this->memberData['member_id']) ? ("readonly=\"readonly\"") : ("")) . " />
					</div>
				</li>
				<li class='ipsField'>
					<label class='ipsField_title' for='email'>{$this->lang->words['email']} <span class='ipsForm_required'>*</span></label>
					<div class='ipsField_content'>
						<input type=\"text\" id='email' class='input_text' name=\"email\" value=\"{$this->memberData['email']}\" size=\"30\" maxlength=\"100\" " . (($this->memberData['member_id']) ? ("readonly=\"readonly\"") : ("")) . " />
					</div>
				</li>
				<li class='ipsField'>
					<label class='ipsField_title' for='assunto'>{$this->lang->words['assunto']} <span class='ipsForm_required'>*</span></label>
					<div class='ipsField_content'>
						<input type=\"text\" id='assunto' class='input_text' name=\"assunto\" value=\"\" size=\"30\" maxlength=\"100\" />
					</div>
				</li>
				<li class='ipsField'>
					<label class='ipsField_title' for='mensagem'>{$this->lang->words['mensagem']} <span class='ipsForm_required'>*</span></label>
					<textarea id='mensagem' cols=\"60\" rows=\"5\" wrap=\"soft\" name=\"mensagem\" class=\"input_text\">{$text}</textarea>
				</li>
				" . ((is_array($customfields) and count($customfields)) ? ("".$this->__f__54c7e0f0f58dd9b3d52874748b3212c1($dep,$regra,$pergunta,$customfields,$captchaHTML,$firstid)."				") : ("")) . "" . (($pergunta[question] != '') ? ("
					<li class='ipsField'>
						<label class='ipsField_title' for='pergunta' class='ipsField_title'>{$pergunta[question]} <span class='ipsForm_required'>*</span></label>
						<input type=\"text\" id=\"pergunta\" class=\"input_text\" name=\"pergunta\" value=\"{$title}\" size=\"30\" maxlength=\"120\" />
					</li>
				") : ("")) . "" . (($captchaHTML!='') ? ("
					<li class='ipsField'>
						{$captchaHTML}
					</li>
				") : ("")) . "" . (($this->settings['contato_copia']) ? ("
					<li class='ipsField ipsField_checkbox'>
						<input type=\"checkbox\" id=\"contato_copia\" name=\"contato_copia\" value=\"1\" /> <label for='contato_copia'><div class='ipsField_content'>{$this->lang->words['copia_mensagem']}</div></label>
					</li>
				") : ("")) . "
<li class='ipsField'>
{$attach}
</li>
			</ul>
			<fieldset class='submit'>
				<input class='input_submit' type=\"submit\" value=\"{$this->lang->words['submit']}\" /> {$this->lang->words['ou']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=contactus", "public",'' ), "", "" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancelar']}</a>
			</fieldset>
</form>
</div>";
return $IPBHTML;
}


function __f__54c7e0f0f58dd9b3d52874748b3212c1($dep=array(), $regra, $pergunta=array(), $customfields=array(), $captchaHTML, $firstid)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $customfields as $r )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						<li class='ipsField'>
							<label class='ipsField_title' for='cf_{$r['id']}'>{$r[title]}" . (($r['required']) ? (" <span class='ipsForm_required'>*</span>") : ("")) . "</label>
							<p class='ipsField_content'>
								<input type=\"text\" id=\"cf_{$r['id']}\" class=\"input_text\" name=\"cf_{$r['id']}\" value=\"\" size=\"30\" maxlength=\"{$r['charlimit']}\" />
							</p>
						</li>
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- form --*/
function form($dep=array(), $regra, $pergunta=array(), $customfields=array(), $captchaHTML, $firstid) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_contato', $this->_funcHooks['form'] ) )
{
$count_fc8c2d531b91bac82470c844731f83c5 = is_array($this->functionData['form']) ? count($this->functionData['form']) : 0;
$this->functionData['form'][$count_fc8c2d531b91bac82470c844731f83c5]['dep'] = $dep;
$this->functionData['form'][$count_fc8c2d531b91bac82470c844731f83c5]['regra'] = $regra;
$this->functionData['form'][$count_fc8c2d531b91bac82470c844731f83c5]['pergunta'] = $pergunta;
$this->functionData['form'][$count_fc8c2d531b91bac82470c844731f83c5]['customfields'] = $customfields;
$this->functionData['form'][$count_fc8c2d531b91bac82470c844731f83c5]['captchaHTML'] = $captchaHTML;
$this->functionData['form'][$count_fc8c2d531b91bac82470c844731f83c5]['firstid'] = $firstid;
}
$IPBHTML .= "{$regra}
<h2 class='maintitle'>{$this->lang->words['title']}</h2>
<div class='ipsBox'>
		
<div class='ipsVerticalTabbed ipsLayout ipsLayout_withleft ipsLayout_smallleft clearfix'>
		<div class='ipsVerticalTabbed_tabs ipsLayout_left'>		
			
			<ul>
				".$this->__f__8dd8cad3fa159e34669ab69abaf504ab($dep,$regra,$pergunta,$customfields,$captchaHTML,$firstid)."						
			</ul>
		</div>
		<div class='ipsVerticalTabbed_content ipsLayout_content ipsBox_container' style='position: relative' id=''>
			" . ( method_exists( $this->registry->getClass('output')->getTemplate('contato'), 'fields' ) ? $this->registry->getClass('output')->getTemplate('contato')->fields($dep, $regra, $pergunta, $customfields, $captchaHTML, $firstid) : '' ) . "
		</div>
</div>
	
</div>";
return $IPBHTML;
}


function __f__8dd8cad3fa159e34669ab69abaf504ab($dep=array(), $regra, $pergunta=array(), $customfields=array(), $captchaHTML, $firstid)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $dep as $r )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<li " . (($r['id'] == $firstid['id'] && !$this->request['id']) ? ("class='active'") : ("" . (($r['id'] == $this->request['id']) ? ("class='active'") : ("")) . "")) . "><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=contactus&amp;module=contato&amp;section=form&amp;id={$r['id']}", "public",'' ), "", "" ) . "'>{$r['title']}</a></li>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- formSent --*/
function formSent() {
$IPBHTML = "";

$year = date('Y');
$IPBHTML .= "<h2 class='maintitle'>{$this->lang->words['title']}</h2>
<div class='generic_bar'></div>
<table class='ipb_table'>
	<tr class='header'>
		<td><b>{$this->lang->words['formulario_enviado']}</b></td>
	</tr>
	<tr class='row2'>
		<td>
			{$this->lang->words['formulario_enviado_desc']}
			" . (($this->request['contato_copia']) ? ("
				{$this->lang->words['formulario_enviado_desc_emailautor']}
			") : ("")) . "
		</td>
	</tr>
</table>
<br />
<fieldset class='submit'>
		<ul class='topic_buttons left'>
			<li><a href='{$this->settings['base_url']}act=idx' title='{$this->lang->words['voltar_forum']}' accesskey='s'>{$this->lang->words['voltar_forum']}</a></li>
			<li><a href='{$this->settings['base_url']}app=contactus' title='{$this->lang->words['novo_formulario']}' accesskey='s'>{$this->lang->words['novo_formulario']}</a></li>
		</ul>
</fieldset><p style=\"padding: 10px;font-size: 11px;position: relative;color:#848484;text-align:right;text-shadow: 0px 1px 0px #fff;\">Powered by <b>(RC34) Contato {$this->caches['app_cache']['contato']['app_version']}</b> &copy; {$year} &nbsp;&nbsp;<a target=\"_blank\" href=\"http://www.rawcodes.net/\">Rawcodes.net</a></p>";
return $IPBHTML;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>